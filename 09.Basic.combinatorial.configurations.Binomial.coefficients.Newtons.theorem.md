# Основни комбинаторни конфигурации

Нека A и B са множества, |A|=k, |B|=n.

Под 'конфигурация' се има предивд @TODO

Конфигурациите се групират според следните признаци:
- със или без наредба
- със или без повторения
(4 основни типа комбинаторни конфигурации)

## Конфигурации с наредба и с повторение

Броят на функциите f: A → B е n^k.

Доказателство: 
- Ако k=0, то A=Ø има една единствена функция f=Ø: A → B.
- Нека k≥1 и нека A={a1...ak}.
    -Всяка функция f: A → B можем да представим еднозначно чрез вектора от нейните стойности:
        - f=(f(a1),...,f(ak)) ∈ B^k.
    - Съгласно принципа на биекцията броят на различните функции е същият като броя на елементите на B^k.
    - Съгласно принципа за умножението _|B^k|=|B|^k=n^k_

Така получаваме, че броят на конфигурациите с наредба и с повторение на k елемента измежду n е _Kн,п(k, n)=n^k_.

## Конфигурации с наредба и без повторение
- Тази конфигурация брои инекциите f:A→B: n(n−1)...(n−k+1).

Доказателство:
- При k>n ↔ k≥n+1 ⇒ _n(n−1)...(n-(n+1)+1)...(n−k+1) = 0_. |A| > |B| и съгласно принципа на Дирихле няма инекции f: A→B.
- При k=0, A=Ø, ∃ единствена инекция f = Ø: A→B. 
- При k ∈ [1, n), A = { a1, …, ak }, разглеждаме f като редица от функционалните стойности: f(a1), …, f(ak).

    - f(a1) ∈ B е произволно - _|B| = n_ възможности
    - f(a2) ∈ B, но f(a2) ≠ f(a1), т.е _f(a2) ∈ B \ { f(a1) }_ - _|B \ { f(a1) }| = n-1_ възможности

    - В общия случай f(ai) е различно от всички предходни:
        - f(ai) ∈ B, _f(ai) ≠ f(at) ∀t<i_, т.е. _f(ai) ∈ B \ { f(at): t < i }_ 
        - Възможностите са - _|B \ { f(at): t ∈ N < i }| = 
                            = |B| - |{ f(at): t ∈ N < i }| = n - (i-1)_
    - Тогава за всички _f(ai), i ∈ [1, k]_ по п-па на умножеснието възможностите са:
        - _П(n-(i-1)), i ∈ [1,k] = П(n-i), i ∈ [0, k-1] = n*(n-1)*…*(n-k+1)_

Получения резултат за броя на конфигурациите на k елемента измежду n, с наредба и без повторение
записваме с _Kн(k, n)=П(n-i), i ∈ [0,k-1]_.

### Пермутации
В случая, когато k = n, конфигурацията с наредба и без повторение се нарича *пермутация*.

Броят пермутации на n елемента отговаря на броя на начините за 'разбъркване' на n различни елемента.

По формулата, за k=n ⇒ _n*(n-1)*…*(n-k+1) = n*…*(n-n+1) = n*…*1 = n!_

## Конфигурации без наредба и без повторение
- За разлика от предните конфигурации, които означавахме с редици, липсата на наредба и повторение
  позволява да разгледаме тази конфигурация като множество B с мощност k.

- Броят на всички подмножества B ⊆ A, _|A| = n, |B| = k_, означаваме с _[n над k]_.

_[n над k] = n*…*(n-k+1) / k*…*1_

Доказателство:
- Вместо множества от k елемента, да разгледаме редиците с k елемента, образувани с елементи от
    същото множество A без повтаряне. 
    - Броят на тези редици е Кн(n,k). 
- От всяко k-елементно множество могат да се образуват _Кн(k,k) = k!_ на брой редици без повторение.
- Тогава в редиците, които разглеждаме, всяко изходно k-елементно множество участва точно k! пъти.
- ⇒ броят на редиците = броят на множествата * k!
    - _n*…*(n-k+1) = [n над k] * k!_
    - _[n над k] = n*…*(n-k+1) / k*…*1_
    - Квадратче за край на доказателството.

[n над k] се нарича също и _биномен коефициент_ поради следното негово свойство:

## Теорема за нютоновия бином
_(x+y)^n = ∑[n над k]*(x^k)*(y^(n-k)), k ∈ [0,n]_

Броят на едночлените от степен (x^k)(y^(n-k)) е броят начини да изберем хикс от k от множителите и y
от (n-k) останали множители.

## Мощност на степенното множество в крайно множество
_|2^A| = 2^|A|_

Доказателство:
- Разбиваме 2^A на множества с k-елементни подмножества на A:
    - _A0={Ø}, A1={{a1},…,{an}}, A2={{a1,a2}, {a1,a3}, …}, …_

- Тъй като {Ai} е разбиване, мощността на 2^A е сумата от мощностите на елементите му:
    - _|2^A| = |∪{Ai}| = ∑|Ak|_

- Всеки елемент на разбиването Ak държи [n над k] подмножества на A.
    - (защото [n над k] по горното доказателство брои k-елементните подмножества на n-елементно множество)

- Следователно мощността на 2^A е сумата от всички [n над k] за съответния брой k-елементни
    подмножества:
    - _|2^A| = ∑|Ak| = ∑[n над k]_

- По теоремата за нютоновия бином, това е (1+1)^n:
    - _∑[n над k]*(1^k)*(1^(n-k)) = (1+1)^n = 2^n_
      ⇒ _|2^A| = 2^|A|_

## Основни свойства на биномния коефициент
Нека n>k ∈ N.

1. [n над k] = [n над n-k]

2. Тогава [n над k] = [n-1 над k] + [n-1 над k-1]

   Доказателство:
   Нека A е множество, |A| = n, x ∈ A е произволно.

   - [n над k] брои всички k-елементни подмножества на A.
   - Ако 'извадим' x от A, [n-1 над k-1] брои всички (k-1)-елементни подмножества на A-{x}
       - Броят на k-елементните подмножества, съдържащи x, е и броят на (k-1)-елементните подмножества
           на A, несъдържащи х.
    - В такъв случай [n-1 над k-1] брои k-елементните подмножества на A, съдържащи x.
    - [n-1 над k] брои k-елментните подмножества на A-{x}

   ⇒ [n-1 над k] + [n-1 над k-1] брои и тези, които съдържат x, и тези, които не го съдържат, т.е.
   всички k-елементни подмножества, което брои и [n над k]
