# Релации

A1…An - множества
1. Релация над A1…An е всяко подмножество _R ⊂ ×Ai(i=1→n)_
    - Двоична релация - при n = 2
    - Монарна - при n = 1, тогава _R ⊂ A_

3. Представяния на двоични релации
    - чрез матрици 
        - Нека _R ⊂ A × B_
        - Mij = 1 if (ai, bj), else 0

2. Релация над декартов квадрат: _R ⊂ A × A_
    - Може да се представи и чрез ориентиран граф:
        - На всеки елемент от А съпоставяме биективно връх в графа: _v: A → V_
        - На всяка двойка (a, b) от R биективно съпоставяме ребро _(v(a), v(b))_: _e: R → E_
        - Получаваме ориентирания граф _(V, E, g)_

3. Свойства
    1. 1. Рефлексивност: _∀a aRa_ 
        - общо 2^n² рефлексивни релации
        - матрица с единици по главния диагонал
        - граф с примка на всеки връх
    1. 2. Антирефлексивност: _∀a ¬aRa_
        - матрица с нули по главния диагонал
        - граф без примки

    2. 1. Симетричност: _∀ a,b (aRb → bRa)_
        - общо 2^((n²-n)/2) симетрични релации
        - @TODO fix empty bullet. Missed coś?
    2. 2. Антисиметричност: _∀ a≠b (aRb → ¬bRa)_
    2. 3. Силна антисиметричност: _∀ a≠b (aRb ↔ ¬bRa)_

    3. Транзитивност: _∀ a,b,c (aRb ∧ bRc → aRc)_

4. Затваряне S на релация R
    - Релацията S е затваряне на R спрямо някакво свойство P, ако S съдържа R, изпълнява P и е подмножество на всички такива релации:
        - (S е затваряне на R спрямо P) ↔ S ⊇ R ∧ P(S) ∧ ∀ T ⊇ R (P(T) → T ⊇ S)
    1. Рефлексивно затваряне на R ⊆ A²: най-малката рефлексивна 'надрелация' S на R:
        - (S е рефлексивно затваряне на R) ↔ (R ⊆ S ⊆ A² ∧ (S е рефлексивна) ∧ ∀ S'(R ⊆ S' ⊆ A² ∧ (S' е рефлексивна) → S ⊆ S'))
    2. Симетрично затваряне на R ⊆ A²: най-малката симетрична 'надрелация' S на R;
        - (S е симетрично затваряне на R) ↔ (R ⊆ S ⊆ A² ∧ (S е транзитивна) ∧ ∀ S'(R ⊆ S' ⊆ A² ∧ (S' е транзитивна) → S ⊆ S'))
    3. Транзитивно затваряне

5. Релация на еквивалентност
    1. R ⊆ A² е РЕ ако е рефлексивна, симетрична и транзитивна

    2. Клас на еквивалентност на елемента _a_ по отношение на РЕ R се нарича множеството от елементите, с които _a_ е в релацияя, и се бележи с _[a]_:
        - _[a] = { x ∈ A: xRa }_

    3. Примери:
        - _aRb ↔ a = b mod n_, _aRb ↔ a = -b_. 
        - Стрингове с еднакви първите k символа в началото
            (Опиши класовете)

    4. Теорема за класовете на еквивалентност
        1. _aRb → ([a] = { x ∈ A: xRa } = { x ∈ A: xRb } = [b]) ↔ [a] = [b]_
        2. _¬aRb → ([a] ∩ [b] = { x ∈ A: xRa } ∩ { x ∈ A: xRb } = { x ∈ A: aRx ∧ xRb } = { x ∈ A: aRb ∧ xRb } = { x ∈ A: F ∧ xRb } = { x ∈ A: F } = Ø) ↔ [a] ∩ [b] = Ø_
        3. _∀a,b ((aRb ⊕ ¬aRb) ↔ (([a] = [b]) ⊕ ([a] ∩ [b] = Ø)))_
        4. _S = { [a]: a ∈ A }_ е разбиване, защото _∀a,b ([a] = [b] ⊕ [a] ∩ [b] = Ø)_
